{% extends 'user/login.html' %}
{% block title %}注册{% endblock %}
{% block  content %}
    <div id="login_box">
        <h2 class="login_h2">注册</h2>
        {% if msg %}
        <p style="color: red;font-size: 17px">{{ msg }}</p>
        {% endif %}
        <div id="password-error" style="color: red; display: none;">两次输入的密码不一致，请重新输入</div>
        <div class="login_tab">
            <form action="{{ url_for('user.register') }}" method="post" id="registration-form">
                <div id="input_box">
                    <input class="login_input" type="text" name="username" placeholder="请输入用户名  " required>
                </div>
                <div id="input_box">
                    <input class="login_input" type="text" name="email" placeholder="请输入邮箱" required>
                </div>
                <div id="input_box">
                    <input class="login_input" type="text" name="phone" placeholder="请输入手机号" required>
                </div>
                <div class="input_box">
                    <input class="login_input" type="password" name="password" placeholder="请输入密码" required>
                </div>
                <div class="input_box">
                    <input class="login_input" type="password" name="repassword" placeholder="请再次输入密码" required>
                </div>
                <button class="login_button">注册</button>
            </form>
            <p>已有账号？<a href="/user/login">登陆</a></p>
        </div>
    </div>

{% endblock %}
{%block scripts %}
    <script>
        const form = document.getElementById('registration-form');
        const passwordError = document.getElementById('password-error');

        form.addEventListener('submit', function (e) {
            const password = form.elements['password'].value;
            const repassword = form.elements['repassword'].value;

            if (password!== repassword) {
                e.preventDefault();
                passwordError.style.display = 'block';
            } else {
                passwordError.style.display = 'none';
            }
        });
    </script>
{% endblock %}